{% spaceless %}
    <table class="table table-bordered table-striped">
        <thead>
            <tr class="bg-gray">
                <th>nombre</th>
                <th style="width: 5%">cant.</th>
                <th class="text-right" style="width: 20%">precio unit.</th class="text-right">
                <th class="text-right" style="width: 20%">precio x cant.</th>
                <th class="text-center" style="width: 10%"></th>
            </tr>
        </thead>

        <tbody>
            {% set subTotal = 0 %}
            {% set totalPrice = 0 %}

            {% for product in productSession %}

                {% set subTotal = product.price * product.quantity %}

                <tr>
                    <td>
                        <span class="badge bg-light-blue-active">
                            {{ product.id }}
                        </span>
                        {{ product.name }}
                    </td>
                    <td class="text-center text-bold bg-gray-1 fontsize-18">
                        {{ product.quantity }}
                    </td>
                    <td class="text-right">
                        {{ product.price }}
                    </td>
                    <td class="text-right">
                        {{ subTotal }}
                    </td>
                    <td class="text-center">
                        <button
                            type="button"
                            class="btn btn-danger btn-sm decrement"
                            data-id-item="{{ product.id }}">
                            <i class="fa fa-fw fa-minus"></i>
                        </button>
                    </td>
                </tr>

                {% set totalPrice = totalPrice + subTotal %}

            {% else %}
                <tr>
                    <td colspan="5" class="text-center">
                        <i class="fa fa-fw fa-shopping-cart"></i> Agregue productos.
                    </td>
                </tr>
            {% endfor %}

            <tr class="bg-gray">
                <td colspan="5"></td>
            </tr>

            <tr>
                <td colspan="3" class="text-left">
                    <i class="fa fa-fw fa-th"></i> Sub Total
                </td>

                <td class="subtotal text-right text-bold bg-gray-1 fontsize-18">
                    {{ totalPrice }}
                    {#<span class="badge bg-gray-1-active">#}
                        {#{{ totalPrice }}#}
                    {#</span>#}
                </td>
                <td></td>
            </tr>
            <tr>
                <td colspan="3" class="text-left">
                    <i class="fa fa-fw fa-th-list"></i> Descuento
                </td>
                <td class="discount text-right bg-gray-1">
                    <input
                        type="text"
                        name="discount"
                        class="form-control text-right fontsize-18"
                        placeholder="##.##"
                        onkeyup="this.value = this.value.replace(/[^0-9\.]/g,'');" >
                </td>
                <td></td>
            </tr>

        </tbody>

        <tfoot>
            <tr class="bg-gray-1">
                <td colspan="3" class="text-left">
                    <i class="fa fa-fw fa-th-large"></i> Total
                </td>
                <td class="total text-right bg-gray-1 text-bold fontsize-18">
                    {{ totalPrice }}
                </td>
                <td></td>
            </tr>
        </tfoot>
    </table>
{% endspaceless %}
